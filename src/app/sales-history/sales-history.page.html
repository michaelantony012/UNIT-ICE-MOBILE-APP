<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title><h2>Riwayat Jual</h2></ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <!-- //https://stackoverflow.com/questions/42756322/how-to-make-an-ionic-list-scrollable -->
  <div scrolly="true" style="max-height:90%">
    <ion-list>
      <!-- https://ionicframework.com/docs/api/card -->
      <ion-card *ngFor="let item of DaftarHistory">
        <ion-card-header>
          <ion-card-title><div>{{ item.doc_date }}<span style="text-align:right;display:block;float:right;width:50%;">{{ item.doc_no }}</span></div></ion-card-title>
          <ion-card-subtitle>
            <table style="width: 100%;">
              <tr>
                <td style="width: 10%;">
                  Mulai
                </td>
                <td style="width: 5%">
                  :
                </td>
                <td style="width: 50%;">
                  {{ item.started_at }}
                </td>
              </tr>
              <tr>
                <td style="width: 10%;">
                  Selesai
                </td>
                <td style="width: 5%">
                  :
                </td>
                <td style="width: 50%;">
                  {{ item.finished_at }}
                </td>
              </tr>
            </table>
          </ion-card-subtitle>
          <span class='line' style="margin-top: 5px;"></span>
        </ion-card-header>
      
        <ion-card-content>
          <!-- <span class='line'></span> -->

          <table style="width: 100%;">
            <tr>
              <td style="width: 20%;">
                Rute :
              </td>
              <td style="width: 25%; text-align: right;">
                {{ item.route_name }}
              </td>
              <td style="width: 10%"></td>
              <td style="width: 20%;">
                Sales 1 :
              </td>
              <td style="width: 25%; text-align: right;">
                {{ item.sales_name1 }}
              </td>
            </tr>

            <tr>
              <td style="width: 20%;">
                Truck :
              </td>
              <td style="width: 25%; text-align: right;">
                {{ item.truck_nopol }}
              </td>
              <td style="width: 10%"></td>
              <td style="width: 20%;">
                Sales 2 :
              </td>
              <td style="width: 25%; text-align: right;">
                {{ item.sales_name2 }}
              </td>
            </tr>

            <tr>
              <td style="width: 20%;">
                Biaya :
              </td>
              <td style="width: 25%; text-align: right;">
                {{ item.total_biaya }}
              </td>
              <td style="width: 10%"></td>
              <td style="width: 20%;">
                Sales 3 :
              </td>
              <td style="width: 25%; text-align: right;">
                {{ item.sales_name3 }}
              </td>
            </tr>
          </table>

          <span class='line'></span>

          <table style="width: 100%; margin-top: 5px; margin-bottom: 15px;">
            <tr>
              <td style="width: 20%;">
                B5 :
              </td>
              <td style="width: 25%; text-align: right;">
                {{ item.item1_total }}
              </td>
              <td style="width: 10%"></td>
              <td style="width: 20%;">
                Cash :
              </td>
              <td style="width: 25%; text-align: right;">
                {{ item.cash }}
              </td>
            </tr>
            <tr>
              <td style="width: 20%;">
                B10 :
              </td>
              <td style="width: 25%; text-align: right;">
                {{ item.item2_total }}
              </td>
              <td style="width: 10%"></td>
              <td style="width: 20%;">
                BB :
              </td>
              <td style="width: 25%; text-align: right;">
                {{ item.BB }}
              </td>
            </tr>
            <tr>
              <td style="width: 20%;">
                B20 :
              </td>
              <td style="width: 25%; text-align: right;">
                {{ item.item3_total }}
              </td>
              <td style="width: 10%"></td>
              <td style="width: 20%;">
                CR :
              </td>
              <td style="width: 25%; text-align: right;">
                {{ item.CR }}
              </td>
            </tr>
            <tr>
              <td style="width: 20%;">
                C10 :
              </td>
              <td style="width: 25%; text-align: right;">
                {{ item.item5_total }}
              </td>
              <td style="width: 10%"></td>
              <td style="width: 20%;">
                Tag. BB :
              </td>
              <td style="width: 25%; text-align: right;">
                {{ item.tagihan_BB }}
              </td>
            </tr>
            <tr *ngIf="ware_id !== 2">
              <td style="width: 20%;">
                K10 :
              </td>
              <td style="width: 25%; text-align: right;">
                {{ item.item4_total }}
              </td>
              <td style="width: 10%"></td>
              <td style="width: 20%;">
                Tag. Crd :
              </td>
              <td style="width: 25%; text-align: right;">
                {{ item.tagihan_credit }}
              </td>
            </tr>
            <tr *ngIf="ware_id == 2">
              <td style="width: 20%;">
              </td>
              <td style="width: 25%; text-align: right;">
              </td>
              <td style="width: 10%"></td>
              <td style="width: 20%;">
                Tag. Crd :
              </td>
              <td style="width: 25%; text-align: right;">
                {{ item.tagihan_credit }}
              </td>
            </tr>
          </table>
          
          <table *ngIf="ware_id !== 2"
            style="width: 100%; margin-top: 5px; border: 1px solid white;">
            <tr>
              <td style="width: 15%; border: 1px solid white;">
                
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                B5&nbsp;
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                B10&nbsp;
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                B20&nbsp;
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                K10&nbsp;
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                C10&nbsp;
              </td>
            </tr>
            <tr>
              <td style="width: 15%; border: 1px solid white;">
                &nbsp;SJE
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                {{ item.item1_SJE }}&nbsp;
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                {{ item.item2_SJE }}&nbsp;
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                {{ item.item3_SJE }}&nbsp;
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                {{ item.item4_SJE }}&nbsp;
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                {{ item.item5_SJE }}&nbsp;
              </td>
            </tr>
            <tr>
              <td style="width: 15%; border: 1px solid white;">
                &nbsp;Retur
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                {{ item.item1_Retur }}&nbsp;
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                {{ item.item2_Retur }}&nbsp;
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                {{ item.item3_Retur }}&nbsp;
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                {{ item.item4_Retur }}&nbsp;
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                {{ item.item5_Retur }}&nbsp;
              </td>
            </tr>
            <tr>
              <td style="width: 15%; border: 1px solid white;">
                &nbsp;Free
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                {{ item.item1_Free }}&nbsp;
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                {{ item.item2_Free }}&nbsp;
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                {{ item.item3_Free }}&nbsp;
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                {{ item.item4_Free }}&nbsp;
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                {{ item.item5_Free }}&nbsp;
              </td>
            </tr>
          </table>
          
          <table *ngIf="ware_id == 2"
            style="width: 100%; margin-top: 5px; border: 1px solid white;">
            <tr>
              <td style="width: 15%; border: 1px solid white;">
                
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                B5&nbsp;
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                B10&nbsp;
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                B20&nbsp;
              </td>
              <td style="width: 17%; text-align: right; border: 1px solid white;">
                C10&nbsp;
              </td>
            </tr>
            <tr>
              <td style="width: 16%; border: 1px solid white;">
                &nbsp;SJE
              </td>
              <td style="width: 21%; text-align: right; border: 1px solid white;">
                {{ item.item1_SJE }}&nbsp;
              </td>
              <td style="width: 21%; text-align: right; border: 1px solid white;">
                {{ item.item2_SJE }}&nbsp;
              </td>
              <td style="width: 21%; text-align: right; border: 1px solid white;">
                {{ item.item3_SJE }}&nbsp;
              </td>
              <td style="width: 21%; text-align: right; border: 1px solid white;">
                {{ item.item5_SJE }}&nbsp;
              </td>
            </tr>
            <tr>
              <td style="width: 16%; border: 1px solid white;">
                &nbsp;Retur
              </td>
              <td style="width: 21%; text-align: right; border: 1px solid white;">
                {{ item.item1_Retur }}&nbsp;
              </td>
              <td style="width: 21%; text-align: right; border: 1px solid white;">
                {{ item.item2_Retur }}&nbsp;
              </td>
              <td style="width: 21%; text-align: right; border: 1px solid white;">
                {{ item.item3_Retur }}&nbsp;
              </td>
              <td style="width: 21%; text-align: right; border: 1px solid white;">
                {{ item.item5_Retur }}&nbsp;
              </td>
            </tr>
            <tr>
              <td style="width: 16%; border: 1px solid white;">
                &nbsp;Free
              </td>
              <td style="width: 21%; text-align: right; border: 1px solid white;">
                {{ item.item1_Free }}&nbsp;
              </td>
              <td style="width: 21%; text-align: right; border: 1px solid white;">
                {{ item.item2_Free }}&nbsp;
              </td>
              <td style="width: 21%; text-align: right; border: 1px solid white;">
                {{ item.item3_Free }}&nbsp;
              </td>
              <td style="width: 21%; text-align: right; border: 1px solid white;">
                {{ item.item5_Free }}&nbsp;
              </td>
            </tr>
          </table>

        </ion-card-content>
      </ion-card>
    </ion-list>
  </div>
</ion-content>
